# UI/UX: Shop & Category Pages

> **Standard**: This document follows [_wireframe_standard.md](./_wireframe_standard.md)

---

## 1. Overview

The Shop and Category pages provide a traditional e-commerce browsing experience where users can filter, sort, and explore products. These pages serve users who come with purchase intent.

### User Journey
```
Shop Landing â†’ Filter/Sort â†’ Browse Products â†’ Product Detail/Quick View â†’ Add to Cart
```

---

## 2. User Stories

- As a **shopper**, I want to filter products by category and price to find what I need
- As a **browser**, I want to sort products to see newest or cheapest first
- As a **mobile user**, I want easy access to filters without cluttering the screen
- As a **returning visitor**, I want my filter preferences remembered

---

## 3. Layout Specification

### 3.1 Shop Landing / Category Page - Desktop (â‰¥1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               HEADER (64px)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Breadcrumb: Trang chá»§ > Cá»­a hÃ ng > [Category Name]                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              HERO BANNER (Optional - Category pages)                 â”‚   â”‚
â”‚  â”‚              [Full-width category image with title overlay]          â”‚   â”‚
â”‚  â”‚                        Height: 200px                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  Cá»­a hÃ ng                                           Hiá»ƒn thá»‹ 1-24 cá»§a 156  â”‚
â”‚  â•â•â•â•â•â•â•â•                                                                   â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                                                      â”‚
â”‚  FILTERS (280px)     â”‚  TOOLBAR                                             â”‚
â”‚                      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚ [Grid â–¦] [List â‰¡]        Sáº¯p xáº¿p: [Má»›i nháº¥t â–¼] â”‚â”‚
â”‚  â”‚ Danh má»¥c         â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚                                                      â”‚
â”‚  â”‚ â˜ Vitamin (45)   â”‚â”‚  PRODUCT GRID (4 columns)                           â”‚
â”‚  â”‚ â˜ Thuá»‘c (32)     â”‚â”‚                                                      â”‚
â”‚  â”‚ â˜ Dá»¥ng cá»¥ (28)   â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜ Thá»±c pháº©m (51) â”‚â”‚  â”‚ [-20%]  â”‚ â”‚         â”‚ â”‚         â”‚ â”‚ [HOT]   â”‚   â”‚
â”‚  â”‚                  â”‚â”‚  â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚   â”‚
â”‚  â”‚ [Xem thÃªm]       â”‚â”‚  â”‚  1:1    â”‚ â”‚  1:1    â”‚ â”‚  1:1    â”‚ â”‚  1:1    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚                      â”‚  â”‚ Name    â”‚ â”‚ Name    â”‚ â”‚ Name    â”‚ â”‚ Name    â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚ â­â­â­â­ â”‚ â”‚ â­â­â­â­â­â”‚ â”‚ â­â­â­  â”‚ â”‚ â­â­â­â­ â”‚   â”‚
â”‚  â”‚ Khoáº£ng giÃ¡       â”‚â”‚  â”‚ 199k    â”‚ â”‚ 250k    â”‚ â”‚ 150k    â”‚ â”‚ 320k    â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚  â”‚ [+Giá»]  â”‚ â”‚ [+Giá»]  â”‚ â”‚ [+Giá»]  â”‚ â”‚ [+Giá»]  â”‚   â”‚
â”‚  â”‚ â—‹ DÆ°á»›i 100k      â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ â—‹ 100k - 300k    â”‚â”‚                                                      â”‚
â”‚  â”‚ â—‹ 300k - 500k    â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ TrÃªn 500k      â”‚â”‚  â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚   â”‚
â”‚  â”‚                  â”‚â”‚  â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚   â”‚
â”‚  â”‚ Hoáº·c nháº­p:       â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ [100k] - [500k]  â”‚â”‚                                                      â”‚
â”‚  â”‚ [Ãp dá»¥ng]        â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚ â”‚ [Image] â”‚   â”‚
â”‚                      â”‚  â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ ÄÃ¡nh giÃ¡         â”‚â”‚                                                      â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚  PAGINATION                                          â”‚
â”‚  â”‚ â˜ â­â­â­â­â­ (5) â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜ â­â­â­â­ trá»Ÿ lÃªnâ”‚â”‚  â”‚  [â†] [1] [2] [3] [4] ... [10] [â†’]              â”‚â”‚
â”‚  â”‚ â˜ â­â­â­ trá»Ÿ lÃªn  â”‚â”‚  â”‚                                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  Xem thÃªm sáº£n pháº©m: [24] [48] [96]              â”‚â”‚
â”‚                      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                                                      â”‚
â”‚  â”‚ TÃ¬nh tráº¡ng       â”‚â”‚                                                      â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚                                                      â”‚
â”‚  â”‚ â˜ CÃ²n hÃ ng       â”‚â”‚                                                      â”‚
â”‚  â”‚ â˜ Äang giáº£m giÃ¡  â”‚â”‚                                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                                                      â”‚
â”‚                      â”‚                                                      â”‚
â”‚  [XÃ³a bá»™ lá»c]        â”‚                                                      â”‚
â”‚                      â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Mobile Layout (<768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†]  Cá»­a hÃ ng          [ğŸ”] [ğŸ›’]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [ğŸ”½ Lá»c (3)]    [Má»›i nháº¥t â–¼]    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  Hiá»ƒn thá»‹ 156 sáº£n pháº©m              â”‚
â”‚                                     â”‚
â”‚  PRODUCT GRID (2 columns)           â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  [-20%]   â”‚ â”‚           â”‚        â”‚
â”‚  â”‚  [Image]  â”‚ â”‚  [Image]  â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ Name      â”‚ â”‚ Name      â”‚        â”‚
â”‚  â”‚ â­â­â­â­   â”‚ â”‚ â­â­â­â­â­  â”‚        â”‚
â”‚  â”‚ 199,000Ä‘  â”‚ â”‚ 250,000Ä‘  â”‚        â”‚
â”‚  â”‚ [+ Giá»]   â”‚ â”‚ [+ Giá»]   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  [Image]  â”‚ â”‚  [Image]  â”‚        â”‚
â”‚  â”‚ ...       â”‚ â”‚ ...       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                     â”‚
â”‚  [Load More] (Infinite scroll)      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FILTER BOTTOM SHEET (When "Lá»c" tapped)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bá»™ lá»c                        [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Danh má»¥c                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜ Vitamin  â˜ Thuá»‘c  â˜ Dá»¥ng cá»¥  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  Khoáº£ng giÃ¡                         â”‚
â”‚  â—â”€â”€â”€â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”€â”€â”€â—                â”‚
â”‚  0Ä‘      500k     1M+               â”‚
â”‚                                     â”‚
â”‚  ÄÃ¡nh giÃ¡                           â”‚
â”‚  â˜ 4 sao trá»Ÿ lÃªn                    â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ XÃ³a lá»c â”‚ â”‚   Ãp dá»¥ng (24)      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Components

### 4.1 Filter Sidebar (Desktop) / Bottom Sheet (Mobile)
- **Purpose**: Narrow down product selection
- **Filters**:
  | Filter | Type | Behavior |
  |--------|------|----------|
  | Category | Multi-select checkboxes | Show count |
  | Price Range | Radio or Range slider | Custom input |
  | Rating | Checkboxes | "X stars & up" |
  | Availability | Toggle | In stock / On sale |
- **States**: 
  - Active filters shown as badges: `[Vitamin âœ•] [100k-300k âœ•]`
  - "Clear all" button when filters active
- **Interactions**:
  - Checkbox change â†’ Instant filter (debounce 300ms)
  - URL updates with filter params: `/shop?category=vitamin&price=100-300`

### 4.2 Product Grid
- **Layout**:
  | Breakpoint | Columns | Gap |
  |------------|---------|-----|
  | Desktop â‰¥1280px | 4 | 24px |
  | Desktop â‰¥1024px | 3 | 20px |
  | Tablet â‰¥768px | 3 | 16px |
  | Mobile <768px | 2 | 12px |
- **View modes**: Grid (default) / List (horizontal cards)

### 4.3 Product Card
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BADGES (absolute positioned)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ -20% â”‚  â”‚ HOT  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                     â”‚
â”‚  [Product Image - 1:1 ratio]        â”‚
â”‚  Hover: Quick View button overlay   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Product name (max 2 lines)         â”‚
â”‚  â­â­â­â­â˜† (24)                      â”‚
â”‚                                     â”‚
â”‚  250,000Ä‘  199,000Ä‘                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  (sale price in red)      â”‚
â”‚                                     â”‚
â”‚  [  + ThÃªm vÃ o giá»  ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **Badges**: Sale %, "HOT", "Má»›i", "Háº¿t hÃ ng"
- **Hover**: Image zoom + Quick View overlay
- **Interactions**:
  - Card click â†’ Product detail page
  - Quick View â†’ Modal (same as article page)
  - Add to Cart â†’ Toast notification

### 4.4 Sort Dropdown
**Options**:
| Value | Label |
|-------|-------|
| `newest` | Má»›i nháº¥t |
| `price_asc` | GiÃ¡ tháº¥p â†’ cao |
| `price_desc` | GiÃ¡ cao â†’ tháº¥p |
| `bestselling` | BÃ¡n cháº¡y nháº¥t |
| `rating` | ÄÃ¡nh giÃ¡ cao nháº¥t |

### 4.5 Pagination
- **Desktop**: Page numbers with prev/next
- **Mobile**: "Load More" button or infinite scroll
- **URL**: `/shop?page=2&limit=24`

---

## 5. Product Detail Page

### 5.1 Desktop Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               HEADER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Breadcrumb: Trang chá»§ > Cá»­a hÃ ng > Vitamin > Vitamin C 1000mg             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                 â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚     MAIN IMAGE (500x500)        â”‚  â”‚  Vitamin C 1000mg Natural Plus   â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚  â­â­â­â­â˜† 4.5 (124 Ä‘Ã¡nh giÃ¡)     â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚  [Xem Ä‘Ã¡nh giÃ¡]                   â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚  SKU: VIT-C-30-RED                â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  BIáº¾N THá»‚ Sáº¢N PHáº¨M (Variants)     â”‚ â”‚
â”‚                                       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”     â”‚                                   â”‚ â”‚
â”‚  â”‚[Th1]â”‚ â”‚[Th2]â”‚ â”‚[Th3]â”‚ â”‚[Th4]â”‚     â”‚  ÄÃ³ng gÃ³i:                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  (Thumbnail gallery - click to zoom) â”‚  â”‚Há»™p 30V â”‚â”‚Há»™p 60V â”‚â”‚ Há»™p 100V â”‚â”‚ â”‚
â”‚                                       â”‚  â”‚ â—      â”‚â”‚        â”‚â”‚          â”‚â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  MÃ u sáº¯c:                         â”‚ â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚                                       â”‚  â”‚  Äá»    â”‚â”‚  Xanh  â”‚            â”‚ â”‚
â”‚                                       â”‚  â”‚  â—     â”‚â”‚        â”‚            â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚                                       â”‚  â”‚  150,000Ä‘   120,000Ä‘       â”‚  â”‚ â”‚
â”‚                                       â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€   (Tiáº¿t kiá»‡m 20%)â”‚  â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  TÃ¬nh tráº¡ng: âœ“ CÃ²n hÃ ng (50)      â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  Sá»‘ lÆ°á»£ng                         â”‚ â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚                                       â”‚  â”‚  [âˆ’]     1     [+]  â”‚          â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚                                       â”‚  â”‚  ğŸ›’ ThÃªm vÃ o giá» hÃ ng       â”‚  â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚                                       â”‚  â”‚  âš¡ Mua ngay                â”‚  â”‚ â”‚
â”‚                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  â¤ï¸ YÃªu thÃ­ch  |  ğŸ“¤ Chia sáº»      â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚                                       â”‚  ğŸšš Giao hÃ ng: 2-3 ngÃ y          â”‚ â”‚
â”‚                                       â”‚  ğŸ”„ Äá»•i tráº£: 7 ngÃ y              â”‚ â”‚
â”‚                                       â”‚  âœ“ ChÃ­nh hÃ£ng 100%               â”‚ â”‚
â”‚                                       â”‚                                   â”‚ â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  TABS                                                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                           â”‚
â”‚  [MÃ´ táº£] [ThÃ nh pháº§n] [ÄÃ¡nh giÃ¡ (124)] [BÃ i viáº¿t liÃªn quan]                â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  TAB CONTENT                                                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  MÃ´ táº£ sáº£n pháº©m chi tiáº¿t á»Ÿ Ä‘Ã¢y...                                   â”‚   â”‚
â”‚  â”‚  HTML content with rich formatting                                   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Sáº¢N PHáº¨M LIÃŠN QUAN (Carousel)                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚Product 1â”‚ â”‚Product 2â”‚ â”‚Product 3â”‚ â”‚Product 4â”‚ â”‚Product 5â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Product Detail Components

### 6.1 Variant Selection

**Layout**: Toggle button group per attribute (max 2 attributes)

**Behavior**:
| Action | Effect |
|--------|--------|
| Select variant | Update SKU, price, stock, image |
| Out of stock variant | Disabled state, strike-through |
| Single variant product | Hide variant selection |

**States**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SELECTED            AVAILABLE            OUT OF STOCK      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚  Há»™p 30V   â”‚     â”‚  Há»™p 60V   â”‚       â”‚  Há»™p 100V  â”‚    â”‚
â”‚ â”‚  â— Active  â”‚     â”‚            â”‚       â”‚  â”€â”€ Háº¿t â”€â”€ â”‚    â”‚
â”‚ â”‚  Border    â”‚     â”‚  Hover     â”‚       â”‚  Disabled  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚   Primary           Gray border          Strikethrough     â”‚
â”‚   border            + hover bg           + 50% opacity     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Data Flow**:
```typescript
// On variant selection
const selectedVariant = product.variants.find(v => 
  v.attributeValues['ÄÃ³ng gÃ³i'] === 'Há»™p 30V' &&
  v.attributeValues['MÃ u sáº¯c'] === 'Äá»'
);

// Update UI
setPrice(selectedVariant.salePrice || selectedVariant.price);
setStock(selectedVariant.stockQuantity);
setSku(selectedVariant.sku);
```

---

## 7. Data Requirements

### API Endpoints
| Endpoint | Purpose |
|----------|---------|
| `GET /products` | List with filters & pagination |
| `GET /products/:slug` | Product detail with variants |
| `GET /categories` | Filter options |
| `POST /cart/items` | Add variant to cart |

### Query Parameters
```
/products?
  page=1&
  limit=24&
  category=vitamin&
  minPrice=100000&
  maxPrice=500000&
  sort=price_asc&
  rating=4&
  inStock=true
```

---

## 7. States & Feedback

### Loading
| Element | Skeleton |
|---------|----------|
| Product grid | 8 product card skeletons |
| Filters | Filter group skeletons |
| Product detail | Image + info skeleton |

### Empty States
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸ”                       â”‚
â”‚                                     â”‚
â”‚  KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m            â”‚
â”‚                                     â”‚
â”‚  Thá»­ xÃ³a bá»›t bá»™ lá»c hoáº·c           â”‚
â”‚  tÃ¬m kiáº¿m khÃ¡c                      â”‚
â”‚                                     â”‚
â”‚  [XÃ³a bá»™ lá»c]  [Xem táº¥t cáº£]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Out of Stock
- Badge: "Háº¿t hÃ ng"
- Add to Cart â†’ "ThÃ´ng bÃ¡o khi cÃ³ hÃ ng" button
- Image: Grayed out overlay

---

## 8. Accessibility

- **Filter changes**: Announce result count
- **Product cards**: Proper heading structure
- **Image gallery**: Keyboard navigable
- **Price**: `aria-label` for screen readers

---

## 9. SEO

### Category Page Meta
```html
<title>Vitamin - Sáº£n pháº©m cháº¥t lÆ°á»£ng | YourSite</title>
<meta name="description" content="Mua vitamin chÃ­nh hÃ£ng...">
<link rel="canonical" href="https://yoursite.com/shop/vitamin">
```

### Product Schema
```json
{
  "@type": "Product",
  "name": "...",
  "offers": {
    "@type": "Offer",
    "price": 199000,
    "availability": "InStock"
  }
}
```

---

## 10. Cart System

### 10.1 Cart Badge on Header

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header Cart Icon with Badge        â”‚
â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚   ğŸ›’    â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚              â”Œâ”€â”€â”€â”                  â”‚
â”‚              â”‚ 3 â”‚ â† Badge          â”‚
â”‚              â””â”€â”€â”€â”˜                  â”‚
â”‚                                     â”‚
â”‚  Badge Specs:                       â”‚
â”‚  - Position: top-0 right-0          â”‚
â”‚  - Size: min-w-5 h-5 rounded-full   â”‚
â”‚  - Background: bg-red-500           â”‚
â”‚  - Text: text-white text-xs font-boldâ”‚
â”‚  - Hidden when count = 0            â”‚
â”‚  - Display "99+" for count > 99     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
| Action | Badge Response |
|--------|----------------|
| Add item to cart | +1 (optimistic update) |
| Remove item | -1 |
| Page refresh | Sync with server |
| Logout | Reset to 0 |

### 10.2 Guest User Cart Flow

```
User (no login) â†’ Clicks "Add to Cart"
       â†“
POST /api/cart { variantId, quantity }
       â†“
Server creates Cart + CartItem
       â†“
Response sets session_id cookie (7 days)
       â†“
Badge updates: count + 1
       â†“
Future requests use session_id cookie
```

### 10.3 Logged-in User Cart Flow

```
User logs in â†’ Auth sets userId
       â†“
Add to cart uses userId (persistent)
       â†“
Cart syncs across devices
```

### 10.4 Cart Merge Popup on Login

When a guest user has items in cart and then logs in, show a popup asking if they want to merge carts.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚       ğŸ›’  Báº¡n cÃ³ sáº£n pháº©m trong giá»          â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚  Giá» hÃ ng khÃ¡ch cá»§a báº¡n cÃ³ 3 sáº£n pháº©m.       â”‚   â”‚
â”‚  â”‚  Báº¡n muá»‘n thÃªm chÃºng vÃ o giá» hÃ ng            â”‚   â”‚
â”‚  â”‚  tÃ i khoáº£n khÃ´ng?                             â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Bá» qua        â”‚ â”‚   Gá»™p giá» hÃ ng âœ“   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚  â˜ KhÃ´ng há»i láº¡i láº§n sau                     â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Merge Logic:**
| Scenario | Action |
|----------|--------|
| Same product in both carts | Sum quantities |
| Product only in guest cart | Add to user cart |
| User clicks "Bá» qua" | Discard guest cart |
| User clicks "Gá»™p giá» hÃ ng" | Merge and clear guest cart |

### 10.5 Cart API Endpoints

| Endpoint | Method | Purpose |
|----------|--------|---------|
| `/api/cart` | GET | Get cart items + count |
| `/api/cart` | POST | Add item (returns itemCount) |
| `/api/cart` | PUT | Update quantity |
| `/api/cart` | DELETE | Remove item |
| `/api/cart/count` | GET | Lightweight count only |
| `/api/cart/merge` | POST | Merge guest cart to user cart |
